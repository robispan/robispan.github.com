(function ($) { "use strict"; $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () { if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) { var target = $(this.hash); target = target.length ? target : $('[name=' + this.hash.slice(1) + ']'); if (target.length) { $('html, body').animate({ scrollTop: (target.offset().top - 57) }, 1000, "easeInOutExpo"); return !1 } } }); $('.js-scroll-trigger').click(function () { $('.navbar-collapse').collapse('hide') }); $('body').scrollspy({ target: '#mainNav', offset: 57 }); var navbarCollapse = function () { if ($("#mainNav").offset().top > 100) { $("#mainNav").addClass("navbar-shrink") } else { $("#mainNav").removeClass("navbar-shrink") } }; navbarCollapse(); $(window).scroll(navbarCollapse); window.sr = ScrollReveal(); sr.reveal('.sr-icons', { duration: 600, scale: 0.3, distance: '0px' }, 200); sr.reveal('.sr-button', { duration: 1000, delay: 200 }); sr.reveal('.sr-contact', { duration: 600, scale: 0.3, distance: '0px' }, 300); $('.popup-gallery').magnificPopup({ delegate: 'a', type: 'image', tLoading: 'Loading image #%curr%...', mainClass: 'mfp-img-mobile', gallery: { enabled: !0, navigateByImgClick: !0, preload: [0, 1] }, image: { tError: '<a href="%url%">The image #%curr%</a> could not be loaded.' } }); $('.popup-gallery').on('mfpOpen', function (e) { }); $('.popup-gallery').on('mfpChange', function () { setTimeout(function () { const currItem = $.magnificPopup.instance.currItem.el[0]; const demoLink = document.querySelector('.mfp-figure .project-demo-link'); if (demoLink) { demoLink.href = currItem.dataset.link } else { const demoLink = document.createElement('a'); demoLink.href = currItem.dataset.link; demoLink.target = "_blank"; demoLink.innerHTML = "Visit demo"; demoLink.classList.add("project-demo-link"); document.querySelector('.mfp-figure').append(demoLink) } }, 0) }) })(jQuery)